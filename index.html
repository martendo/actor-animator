<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rhythm Land Actor Animator</title>
    
    <meta name="title" content="Rhythm Land Actor Animator">
    <meta name="author" content="martendo">
    
    <meta property="og:title" content="Rhythm Land Actor Animator">
    <meta property="og:type" content="website">
    
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div>
      <label for="imgInput">Actor tiles upload:</label>
      <input type="file" id="imgInput" accept="image/png">
      <label for="offsetInput">Tile number offset:</label>
      <input type="number" id="offsetInput" min="-256" max="255" step="2">
      <label for="scaleInput">Pixel scale:</label>
      <input type="number" id="scaleInput">
    </div>
    <hr>
    <div>
      <h2>Tiles</h2>
      <canvas id="gfxCanvas">HTML canvas is not supported :(</canvas>
    </div>
    <div>
      <h2>Meta-Sprite</h2>
      <label for="bgInput">Background image:</label>
      <input type="file" id="bgInput" accept="image/png">
      <label for="bgEnable">Background enable:</label>
      <input type="checkbox" id="bgEnable">
      <label for="bgGridEnable">Background grid:</label>
      <input type="checkbox" id="bgGridEnable">
      <br>
      <label for="bgXInput">BG X</label>
      <input type="number" id="bgXInput">
      <label for="bgYInput">BG Y</label>
      <input type="number" id="bgYInput">
      <table>
        <tbody>
          <tr>
            <td>
              <canvas id="canvas">HTML canvas is not supported :(</canvas>
            </td>
            <td>
              <h3>Objects</h3>
              <table id="objectTableTable">
                <tbody id="objectTable"></tbody>
              </table>
              <button id="addBtn">New Object</button>
              <button id="removeBtn">Remove Object</button>
            </td>
            <td id="editBox">
              <h3>Edit Currently Selected Object</h3>
              <div>
                <label for="xInput">x</label>
                <input type="number" id="xInput" min="-128" max="127" step="1">
              </div>
              <div>
                <label for="yInput">y</label>
                <input type="number" id="yInput" min="-127" max="127" step="1">
              </div>
              <div>
                <label for="tileInput">tile</label>
                <input type="number" id="tileInput" min="0" max="255" step="2">
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <hr>
    <div>
      <button id="exportButton">Export Data</button>
      <br>
      <textarea id="output" placeholder="Output will show up here." readonly></textarea>
    </div>
    <hr>
    <div>
      <h2>Help</h2>
      <ul>
        <li>Upload the actor's PNG tile image in "Actor tiles upload".</li>
        <li>(Hopefully) accurate reproduction of the deduplicated tiles appears under "Tiles".</li>
        <li>If there are to be other tiles loaded in the game the actor is in, set the "Tile number offset" appropriately.</li>
        <li>If there is a blank "remover tile" for removing all other blank tiles in the image (through deduplication) at the beginning, the "Tile number offset" can be set to -2.</li>
        <li>Click "New Object" to add an object to the meta-sprite displayed on the left.</li>
        <li>Click on an object either in the meta-sprite preview or object table to select it.</li>
        <li>The currently selected object has a thicker red outline and is highlighted yellow in the object table.</li>
        <li>Remove the currently selected object from the meta-sprite with the "Remove Object" button.</li>
        <li>Objects can be dragged around the preview area to set their positions.</li>
        <li>Object positions can also be set from the number inputs to the right.</li>
        <li>The object's tile number is set from the "tile" input on the right. Note that this number is in decimal, if hex is needed, it can be found from the object's entry in the object table (last value).</li>
        <li>Meta-sprite data can be exported via the "Export Data" button. Output will appear in the textarea.</li>
        <li>A background image can be uploaded to appear behind the actor in the preview area in "Background image".</li>
        <li>The background image can be enabled/disabled at any time using the "Background enable" checkbox.</li>
        <li>An 8x8 background grid will be drawn if the "Background grid" checkbox is checked.</li>
      </ul>
    </div>
    <script src="script.js" type="text/javascript" charset="utf-8"></script>
  </body>
</html>
